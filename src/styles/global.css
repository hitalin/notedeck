:root {
  /* Fallback: Mi Dark Theme (overridden by JS theme engine) */
  --nd-accent: #86b300;
  --nd-accentDarken: #6e9400;
  --nd-accentedBg: rgba(134, 179, 0, 0.15);
  --nd-love: #dd2e44;
  --nd-focus: rgba(134, 179, 0, 0.3);
  --nd-bg: #232323;
  --nd-fg: rgb(199, 209, 216);
  --nd-fgHighlighted: #fff;
  --nd-fgOnAccent: #fff;
  --nd-fgOnWhite: #333;
  --nd-divider: rgba(255, 255, 255, 0.14);
  --nd-indicator: #86b300;
  --nd-panel: #2d2d2d;
  --nd-panelHighlight: rgba(255, 255, 255, 0.03);
  --nd-panelHeaderBg: #2d2d2d;
  --nd-panelHeaderFg: rgb(199, 209, 216);
  --nd-panelBorder: solid 1px var(--nd-divider);
  --nd-windowHeader: rgba(45, 45, 45, 0.85);
  --nd-popup: #363636;
  --nd-shadow: rgba(0, 0, 0, 0.3);
  --nd-header: rgba(45, 45, 45, 0.7);
  --nd-navBg: #363636;
  --nd-navFg: rgb(199, 209, 216);
  --nd-navActive: #86b300;
  --nd-navIndicator: #86b300;
  --nd-pageHeaderBg: #232323;
  --nd-pageHeaderFg: rgb(199, 209, 216);
  --nd-link: #86b300;
  --nd-hashtag: #4cb8d4;
  --nd-mention: #da6d35;
  --nd-mentionMe: #d44c4c;
  --nd-renote: #86b300;
  --nd-modalBg: rgba(0, 0, 0, 0.5);
  --nd-scrollbarHandle: rgba(255, 255, 255, 0.2);
  --nd-scrollbarHandleHover: rgba(255, 255, 255, 0.4);
  --nd-dateLabelFg: rgb(199, 209, 216);
  --nd-infoBg: #253142;
  --nd-infoFg: #fff;
  --nd-infoWarnBg: #42321c;
  --nd-infoWarnFg: #ffbd3e;
  --nd-folderHeaderBg: rgba(255, 255, 255, 0.05);
  --nd-folderHeaderHoverBg: rgba(255, 255, 255, 0.1);
  --nd-buttonBg: rgba(255, 255, 255, 0.05);
  --nd-buttonHoverBg: rgba(255, 255, 255, 0.08);
  --nd-buttonGradateA: #86b300;
  --nd-buttonGradateB: #9fb300;
  --nd-switchBg: rgba(255, 255, 255, 0.15);
  --nd-switchOffBg: rgba(255, 255, 255, 0.1);
  --nd-switchOffFg: rgba(199, 209, 216, 0.8);
  --nd-switchOnBg: rgba(134, 179, 0, 0.15);
  --nd-switchOnFg: #86b300;
  --nd-inputBorder: rgba(255, 255, 255, 0.1);
  --nd-inputBorderHover: rgba(255, 255, 255, 0.2);
  --nd-badge: #31b1ce;
  --nd-messageBg: #232323;
  --nd-success: #86b300;
  --nd-error: #ec4137;
  --nd-warn: #ecb637;
  --nd-codeString: #ffb675;
  --nd-codeNumber: #cfff9e;
  --nd-codeBoolean: #c59eff;
  --nd-deckBg: #1a1a1a;
  /* Non-theme layout constants */
  --nd-radius: 12px;
  --nd-margin: 10px;
  --nd-columnGap: 2px;
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-family: 'Hiragino Maru Gothic Pro', 'BIZ UDGothic', Roboto,
    HelveticaNeue, Arial, sans-serif;
  font-size: 14px;
  line-height: 1.35;
  background-color: var(--nd-bg);
  color: var(--nd-fg);
  accent-color: var(--nd-accent);
  overflow: hidden;
  overflow-wrap: break-word;
  tab-size: 2;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  user-select: none;

  scrollbar-color: var(--nd-scrollbarHandle) transparent;
  scrollbar-width: thin;
}

body {
  height: 100dvh;
  overflow: hidden;
}

a {
  color: var(--nd-accent);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

button {
  font-family: inherit;
}

textarea,
input {
  user-select: text;
}

/* ---- Shadow depth (Misskey style) ---- */
._shadow-s { box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
._shadow-m { box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15); }
._shadow-l { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); }

/* ---- Utility classes (Misskey style) ---- */

._panel {
  background: var(--nd-panel);
  border-radius: var(--nd-radius);
  overflow: clip;
}

._button {
  appearance: none;
  display: inline-block;
  padding: 0;
  margin: 0;
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  touch-action: manipulation;
  font-size: 1em;
  font-family: inherit;
  line-height: inherit;
  max-width: 100%;
}

._button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

._button:focus-visible {
  outline: 2px solid var(--nd-focus);
  outline-offset: -2px;
}

._buttonPrimary {
  appearance: none;
  display: inline-block;
  padding: 7px 14px;
  margin: 0;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  background: var(--nd-accent);
  color: var(--nd-fgOnAccent);
  font-weight: bold;
  font-size: 95%;
  font-family: inherit;
  line-height: inherit;
  touch-action: manipulation;
  transition: background 0.1s;
}

._buttonPrimary:hover:not(:disabled) {
  background: hsl(from var(--nd-accent) h s calc(l + 5));
}

._buttonPrimary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

._noSelect {
  user-select: none;
  -webkit-user-select: none;
}

._acrylic {
  backdrop-filter: var(--MI-blur, blur(15px));
}

/* ---- Scrollbar (Webkit) ---- */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--nd-scrollbarHandle);
  border-radius: 999px;
}
